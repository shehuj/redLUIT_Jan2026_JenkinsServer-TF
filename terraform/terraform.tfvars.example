# =============================================================================
# Terraform Variables Configuration File
# =============================================================================
# Copy this file to terraform.tfvars and update with your actual values
# WARNING: terraform.tfvars contains sensitive data - do not commit to version control
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED VARIABLES
# -----------------------------------------------------------------------------

# AWS Region
# Region where Jenkins infrastructure will be deployed
aws_region = "us-east-1"

# Your Public IP (CIDR format)
# REQUIRED: Your public IP address for SSH access to Jenkins server
# Must be in CIDR notation (e.g., 203.0.113.25/32 for a single IP)
# Find your IP: curl ifconfig.me
# SECURITY WARNING: Restrict to your actual IP to prevent unauthorized access
public_ip = "203.0.113.0/32"

# Jenkins S3 Bucket Name
# REQUIRED: Globally unique name for Jenkins artifacts storage
# Must be lowercase, no underscores, 3-63 characters
# Example: "my-company-jenkins-artifacts-dev"
jenkins_s3_bucket_name = "my-jenkins-artifacts-bucket-unique-name"

# -----------------------------------------------------------------------------
# ENVIRONMENT CONFIGURATION
# -----------------------------------------------------------------------------

# Environment
# Environment name for resource tagging and conditional configurations
# Common values: dev, staging, prod
# Note: Production environment automatically enables enhanced security features
environment = "dev"

# Jenkins Instance Type
# EC2 instance type for Jenkins server
# Development:
#   - t2.micro: Free tier eligible (1 vCPU, 1 GB RAM) - minimal workload
#   - t2.small: Light workload (1 vCPU, 2 GB RAM)
# Production:
#   - t2.medium: Recommended (2 vCPU, 4 GB RAM)
#   - t3.medium: Better performance (2 vCPU, 4 GB RAM, burst capable)
#   - t3.large: Heavy workload (2 vCPU, 8 GB RAM)
jenkins_instance_type = "t2.small"

# -----------------------------------------------------------------------------
# NETWORKING CONFIGURATION
# -----------------------------------------------------------------------------

# Jenkins Port
# Port for Jenkins web UI access
# Default: 8080 (standard Jenkins port)
# Must be between 1024-65535
jenkins_port = 8080

# Additional SSH CIDR Blocks
# List of additional CIDR blocks allowed to SSH (in addition to public_ip)
# Example: ["10.0.0.0/16", "172.16.0.0/12"]
# Leave empty [] if only your IP should have access
allowed_ssh_cidrs = []

# Jenkins UI Access CIDR Blocks
# ⚠️  CRITICAL SECURITY DECISION REQUIRED ⚠️
# CIDR blocks allowed to access Jenkins UI on port 8080
#
# SECURITY WARNING: The variable has NO DEFAULT - you MUST explicitly configure this!
#
# Options (choose based on your security requirements):
# 1. SECURE (Recommended): Restrict to your IP or office network
#    jenkins_ui_cidrs = ["203.0.113.42/32"]                    # Single IP
#    jenkins_ui_cidrs = ["10.0.0.0/16"]                        # Office network
#    jenkins_ui_cidrs = ["203.0.113.0/24", "198.51.100.0/24"]  # Multiple locations
#
# 2. INSECURE (NOT Recommended): Open to entire internet
#    jenkins_ui_cidrs = ["0.0.0.0/0"]  # ⚠️  EXPOSES JENKINS TO INTERNET ATTACKS
#
# For production: NEVER use 0.0.0.0/0 - use VPN, office IP, or AWS VPC peering
jenkins_ui_cidrs = ["YOUR-IP-HERE/32"]  # UPDATE THIS VALUE

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------------------

# KMS Encryption for S3
# Enable AWS KMS encryption for S3 bucket (uses AES256 if disabled)
# Recommended: true for production
# Note: Automatically enabled for environment = "prod"
enable_kms_encryption = false

# Detailed CloudWatch Monitoring
# Enable detailed (1-minute) CloudWatch monitoring for EC2 instance
# Basic monitoring (5-minute) is free, detailed monitoring has additional cost
# Recommended: true for production
# Note: Automatically enabled for environment = "prod"
enable_detailed_monitoring = false

# Automated Backups
# Enable AWS Backup for automated instance backups
# Recommended: true for production
enable_backup = false

# -----------------------------------------------------------------------------
# S3 LIFECYCLE CONFIGURATION
# -----------------------------------------------------------------------------

# S3 Lifecycle Expiration Days
# Number of days after which old artifact versions are permanently deleted
# Recommended: 30 (dev), 90 (prod), 365 (long-term retention)
s3_lifecycle_expiration_days = 90

# -----------------------------------------------------------------------------
# OPTIONAL: VPC FLOW LOGS
# -----------------------------------------------------------------------------

# VPC Flow Logs
# Enable VPC flow logs for network monitoring and security analysis
# Requires additional S3 bucket or CloudWatch log group (not created by this module)
# Recommended: true for production compliance requirements
enable_vpc_flow_logs = false

# -----------------------------------------------------------------------------
# OPTIONAL: CUSTOM KMS KEY
# -----------------------------------------------------------------------------

# Custom KMS Key ID
# Specify existing KMS key ID for encryption (leave empty to create new key)
# Example: "arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012"
kms_key_id = ""

# -----------------------------------------------------------------------------
# RESOURCE TAGGING
# -----------------------------------------------------------------------------

# Additional Tags
# Custom tags to apply to all resources
# Useful for cost tracking, organization, and automation
# Best Practice: Include Owner, CostCenter, and Project tags
tags = {
  Project    = "Jenkins CI/CD"
  Owner      = "DevOps Team"
  CostCenter = "Engineering"
  Compliance = "SOC2"
  Backup     = "Daily"
}

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, verify:
#
# SECURITY (Critical):
# ✓ public_ip set to your actual IP (NOT 0.0.0.0/0)
# ✓ jenkins_ui_cidrs restricted to office/VPN IP ranges (NEVER use 0.0.0.0/0)
# ✓ Backend configuration completed with actual values (backend.tf)
# ✓ IAM permissions follow least privilege (auto-configured)
# ✓ All sensitive files added to .gitignore
#
# INFRASTRUCTURE (Required):
# ✓ environment = "prod"
# ✓ jenkins_instance_type = "t2.medium" or larger
# ✓ enable_kms_encryption = true (or leave default, auto-enabled for prod)
# ✓ enable_detailed_monitoring = true (or leave default, auto-enabled for prod)
# ✓ enable_backup = true
# ✓ s3_lifecycle_expiration_days = 90 or higher
#
# BACKEND (Required):
# ✓ S3 bucket created with versioning and encryption (run setup-backend.sh)
# ✓ DynamoDB table created for state locking
# ✓ Backend configuration uncommented in backend.tf
# ✓ Terraform init completed successfully
#
# TAGS AND COMPLIANCE:
# ✓ All required tags configured (Owner, CostCenter, Project)
# ✓ Compliance tags added as needed (SOC2, HIPAA, etc.)
#
# VALIDATION:
# ✓ terraform validate passes
# ✓ terraform plan shows expected resources
# ✓ Security scan completed (tfsec, checkov)
# =============================================================================
